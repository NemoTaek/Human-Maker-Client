[{"/home/jht/codestates/HumanMaker-client/client/src/index.js":"1","/home/jht/codestates/HumanMaker-client/client/src/component/mypage/changePassword/ChangePassword.js":"2","/home/jht/codestates/HumanMaker-client/client/src/component/signin/Signin.js":"3","/home/jht/codestates/HumanMaker-client/client/src/App.js":"4","/home/jht/codestates/HumanMaker-client/client/src/component/signup/Signup.js":"5","/home/jht/codestates/HumanMaker-client/client/src/component/goal/Goal.js":"6"},{"size":952,"mtime":1607495768710,"results":"7","hashOfConfig":"8"},{"size":5856,"mtime":1608353243308,"results":"9","hashOfConfig":"8"},{"size":7656,"mtime":1608300363104,"results":"10","hashOfConfig":"8"},{"size":940,"mtime":1608300035072,"results":"11","hashOfConfig":"8"},{"size":6918,"mtime":1608300035140,"results":"12","hashOfConfig":"8"},{"size":10291,"mtime":1608354302509,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1q1vuft",{"filePath":"16","messages":"17","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"18","messages":"19","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":1,"source":"20","usedDeprecatedRules":"21"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/home/jht/codestates/HumanMaker-client/client/src/index.js",[],"/home/jht/codestates/HumanMaker-client/client/src/component/mypage/changePassword/ChangePassword.js",["28"],"/home/jht/codestates/HumanMaker-client/client/src/component/signin/Signin.js",["29","30","31"],"import React, { useState, useEffect, useRef, forwardRef, useImperativeHandle } from 'react';\nimport ReactDOM from \"react-dom\"\nimport axios from 'axios'\nimport './Signin.css'\nimport Signup from \"../signup/Signup\";\nimport { useDispatch } from 'react-redux';\nimport { userid, userpassword } from \"../../modules/User\";\nimport { GoogleLogin } from 'react-google-login';\nimport KakaoLogin from 'react-kakao-login';\n\nconst Signin = forwardRef((props, ref) => {\n\n\tconst signupRef = useRef();\n\n\tconst googleAPI = \"\";\n\tconst kakaoAPI = \"\";\n\tconst naverAPI = \"\";\n\tconst { naver } = window;\n\n\tconst [display, setDisplay] = useState(false);\n\n\tuseImperativeHandle(ref, () => {\n\t\treturn {\n\t\t\tloginOpen: () => openLogin(),\n\t\t\tloginClose: () => closeLogin()\n\t\t}\n\t})\n\n\n\tconst signupOpenModal = () => {\n\t\tsignupRef.current.signupOpen();\n\t}\n\n\n\tconst openLogin = () => {\n\t\tsetDisplay(true)\n\t}\n\tconst closeLogin = () => {\n\t\tsetDisplay(false)\n\t}\n\tconst clickBg = () => {\n\t\tsetDisplay(false)\n\t\tdocument.getElementsByTagName('body')[0].style.overflow = 'scroll';\n\t}\n\n\tuseEffect(() => {\n\t\tif (display) {\n\t\t\tif (props.isRememberId) {\n\t\t\t\tdocument.getElementsByClassName(\"sign_in_idInput\")[0].value = props.rememberId;\n\t\t\t}\n\t\t}\n\t}, [display]);\n\tuseEffect(() => {\n\t\tif (display) {\n\t\t\tnaverLogin();\n\t\t}\n\t}, [display]);\n\n\t// const isLogin = useSelector(state => state.login.isLogin);\n\tconst [isLogInMsg, setIsLogInMsg] = useState(\"error\");\n\n\tconst [id, setId] = useState(props.rememberId || \"\");\n\tconst [password, setPassword] = useState(\"\");\n\n\tconst [checkRememberId, setCheckRememberId] = useState(props.isRememberId);\n\n\tconst dispatch = useDispatch();\n\tconst onId = () => dispatch(userid(id));\t// input에 있는 id를 store에 저장\n\tconst onPassword = () => dispatch(userpassword(password));\t// input에 있는 password를 store에 저장\n\n\tconst onChangeId = e => {\n\t\tsetId(e.target.value);\n\t}\n\tconst onChangePw = e => {\n\t\tsetPassword(e.target.value);\n\t}\n\n\tconst onKeyEnt = e => {\n\t\tif (e.key === \"Enter\") {\n\t\t\tonClickSignInBtn();\n\t\t}\n\t}\n\n\tconst onCheckboxChangeHandler = (e) => {\n\t\tsetCheckRememberId(!checkRememberId);\n\n\t\t// 아이디 기억하기가 체크되어있으면\n\t\tif (e.target.checked) {\n\t\t\t// input값에 store에 저장되어있는 id 출력\n\t\t\tprops.onRememberId();\n\t\t}\n\t\telse {\n\t\t\tprops.onForgotId();\n\t\t}\n\t};\n\n\tconst onClickSignInBtn = () => {\n\t\tconst userData = { id: id, password: password };\n\n\t\tif (!id && !password) {\n\t\t\tsetIsLogInMsg(\"아이디를 입력해주세요.\");\n\t\t}\n\t\telse if (id && !password) {\n\t\t\tsetIsLogInMsg(\"비밀번호를 입력해주세요.\");\n\t\t}\n\t\telse {\n\t\t\tsetIsLogInMsg(\"error\");\n\t\t}\n\t\taxios\n\t\t\t.post(\"https://humanmaker.ml/signin\", userData)\n\t\t\t.then(res => {\n\t\t\t\tif (res) {\n\t\t\t\t\tconst accessToken = res.data;\n\t\t\t\t\t// console.log(accessToken)\n\t\t\t\t\tif (document.cookie === \"\") {\n\t\t\t\t\t\tdocument.cookie = `sid=${accessToken.token}`;\n\t\t\t\t\t\t// console.log(accessToken.token)\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tconst compareToken = document.cookie.split(\"=\");\n\t\t\t\t\t\tif (accessToken.token !== compareToken[1]) {\n\t\t\t\t\t\t\tdocument.cookie = `sid=${accessToken.token}`;\n\t\t\t\t\t\t\t// console.log(\"로그인후토큰\", accessToken.token);\n\t\t\t\t\t\t\t// console.log(\"쿠키저장토큰\", compareToken[1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t// console.log(\"로그인후토큰\", accessToken.token);\n\t\t\t\t\t\t\t// console.log(\"쿠키저장토큰\", compareToken[1]);\n\t\t\t\t\t\t\tconsole.log(\"토큰 값이 동일하여 갱신하지 않습니다.\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tlogin(accessToken);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tsetIsLogInMsg(\"등록되지 않은 아이디 또는 잘못 된 비밀번호 입니다.\");\n\t\t\t\t}\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.log(err);\n\t\t\t})\n\n\t\t// onId();\n\t\t// onPassword(); // 추후에 테스트, 현재 오류\n\t\t// props.onLogin();\n\t\t// closeLogin();\n\t}\n\tconst login = (accessToken) => {\n\t\taxios.\n\t\t\tdefaults.headers.common[\n\t\t\t\"Authorization\"\n\t\t] = `Bearer ${accessToken.token}`;\n\t\tconsole.log(\"axiosHeaders : \", axios.defaults.headers.common.Authorization);\n\n\t\tonId();\t// input에 있는 id를 store에 저장\n\t\tonPassword();\t// input에 있는 password를 store에 저장\n\t\tprops.onLogin();\t// isLogin을 true로 변환\n\t\tdocument.location.replace(\"/goal\");\n\t}\n\n\tconst responseGoogle = (res) => {\n\t\tconsole.log(res);\n\t\tsetId(res.profileObj.name);\t// 구글아이디로 로그인하면 그 id 값을 state에 설정\n\t\t// onId();\t// 위에서 id값을 googleId로 했으므로 onId로 이 id를 store에 저장\n\t}\n\n\tconst responseKakao = (res) => {\n\t\tconsole.log(res);\n\t\t// setId(res.profile.id);\t// 구글아이디로 로그인하면 그 id 값을 state에 설정\n\t\t// onId();\t// 위에서 id값을 googleId로 했으므로 onId로 이 id를 store에 저장\n\n\t\twindow.Kakao.API.request({\n\t\t\turl: '/v2/user/me',\n\t\t\tsuccess: async res => {\n\t\t\t\tconsole.log(\"getme : \", res);\n\t\t\t\tconsole.log(\"getme : \", res.kakao_account);\n\t\t\t\t// const account = res.Kakao_account;\n\t\t\t},\n\t\t\tfail: error => {\n\t\t\t\tconsole.log(\"error : \", error);\n\t\t\t}\n\t\t})\n\t\tconsole.log(res)\n\t\tconsole.log(\"success\")\n\t}\n\n\tconst naverLogin = () => {\n\t\tconst responseNaver = new naver.LoginWithNaverId({\n\t\t\tclientId: naverAPI,\n\t\t\tcallbackUrl: \"https://humanmaker.ml/\",\n\t\t\tisPopup: false,\n\t\t\tloginButton: {\n\t\t\t\tcolor: \"green\",\n\t\t\t\ttype: \"3\",\n\t\t\t\theight: \"30\"\n\t\t\t}\n\t\t});\n\t\tresponseNaver.init();\n\t}\n\n\n\tconst responseFail = (err) => {\n\t\tconsole.log(err);\n\t}\n\n\tif (display) {\n\t\treturn ReactDOM.createPortal(\n\t\t\t<div className=\"modalWrapper\" >\n\t\t\t\t<div className=\"modalBg\" onClick={clickBg} ></div>\n\t\t\t\t<div className=\"sign_in_modalBox\">\n\t\t\t\t\t<div className=\"sign_in_wrap\">\n\t\t\t\t\t\t<div className=\"sign_in_container\">\n\n\t\t\t\t\t\t\t<p className=\"sign_in_name\" >로그인</p>\n\n\t\t\t\t\t\t\t<div className=\"input_container_wrap\">\n\t\t\t\t\t\t\t\t<div className=\"input_container\">\n\t\t\t\t\t\t\t\t\t<div className=\"input_name\">\n\t\t\t\t\t\t\t\t\t\t<span>아이디</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<input className=\"sign_in_idInput\" type=\"text\" onChange={onChangeId} tabIndex=\"1\" autoFocus required />\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"input_container\">\n\t\t\t\t\t\t\t\t\t<div className=\"input_name\">\n\t\t\t\t\t\t\t\t\t\t<span> 비밀번호</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<input className=\"sign_in_pwInput\" type=\"password\" onChange={onChangePw} tabIndex=\"2\" onKeyPress={onKeyEnt} required />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<label className=\"remember_id\">\n\t\t\t\t\t\t\t\t<input type=\"checkbox\" checked={checkRememberId} onChange={e => onCheckboxChangeHandler(e)} tabIndex=\"3\" />아이디 기억하기\n\t\t\t\t\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t\t<div className={isLogInMsg === \"error\" ? \"noneLoginMsg\" : (isLogInMsg !== \"error\" ? \"falseLoginMsg\" : \"noneLoginMsg\")}>\n\t\t\t\t\t\t\t\t<p>{isLogInMsg}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"btn_wrap\">\n\t\t\t\t\t\t\t\t<button className=\"btn\" onClick={onClickSignInBtn} tabIndex=\"4\" >로그인</button>\n\t\t\t\t\t\t\t\t<button className=\"btn\" onClick={signupOpenModal} tabIndex=\"5\" >간편 회원가입</button>\n\t\t\t\t\t\t\t\t<Signup ref={signupRef} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"oauth_wrap\">\n\t\t\t\t\t\t\t\t<GoogleLogin className=\"google\" clientId={googleAPI} buttonText=\"Google\" onSuccess={responseGoogle} onFailure={responseFail} />\n\t\t\t\t\t\t\t\t<KakaoLogin className=\"kakao\" clientId={kakaoAPI} buttonText=\"Kakao\" onSuccess={responseKakao} onFailure={responseFail} getProfile=\"true\"\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\twidth: \"100%\", height: \"50px\", lineHeight: \"50px\", color: \"rgb(60,30,30)\", backgroundColor: \"rgb(255,255,0)\",\n\t\t\t\t\t\t\t\t\t\tborder: \"1px solid transparent\", borderRadius: \"3px\", fontSize: \"16px\", textAlign: \"center\"\n\t\t\t\t\t\t\t\t\t}} />\n\n\t\t\t\t\t\t\t\t<div className=\"naver\" id=\"naverIdLogin\" onClick={naverLogin}></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>, document.getElementById(\"modal_root\")\n\t\t);\n\t}\n\treturn null;\n\n})\n\nexport default Signin;         ",["32","33"],"/home/jht/codestates/HumanMaker-client/client/src/App.js",[],"/home/jht/codestates/HumanMaker-client/client/src/component/signup/Signup.js",[],"/home/jht/codestates/HumanMaker-client/client/src/component/goal/Goal.js",["34","35","36","37"],{"ruleId":"38","severity":1,"message":"39","line":27,"column":6,"nodeType":"40","endLine":27,"endColumn":17,"suggestions":"41"},{"ruleId":"38","severity":1,"message":"42","line":52,"column":5,"nodeType":"40","endLine":52,"endColumn":14,"suggestions":"43"},{"ruleId":"38","severity":1,"message":"44","line":57,"column":5,"nodeType":"40","endLine":57,"endColumn":14,"suggestions":"45"},{"ruleId":"46","severity":1,"message":"47","line":147,"column":8,"nodeType":"48","messageId":"49","endLine":147,"endColumn":9,"fix":"50"},{"ruleId":"51","replacedBy":"52"},{"ruleId":"53","replacedBy":"54"},{"ruleId":"38","severity":1,"message":"55","line":29,"column":18,"nodeType":"48","endLine":29,"endColumn":32},{"ruleId":"38","severity":1,"message":"56","line":30,"column":22,"nodeType":"48","endLine":30,"endColumn":40},{"ruleId":"38","severity":1,"message":"57","line":31,"column":22,"nodeType":"48","endLine":31,"endColumn":40},{"ruleId":"38","severity":1,"message":"58","line":32,"column":22,"nodeType":"48","endLine":32,"endColumn":40},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'props.pw'. Either include it or remove the dependency array.","ArrayExpression",["59"],"React Hook useEffect has missing dependencies: 'props.isRememberId' and 'props.rememberId'. Either include them or remove the dependency array.",["60"],"React Hook useEffect has a missing dependency: 'naverLogin'. Either include it or remove the dependency array.",["61"],"dot-location","Expected dot to be on same line as property.","MemberExpression","expectedDotBeforeProperty",{"range":"62","text":"63"},"no-native-reassign",["64"],"no-negated-in-lhs",["65"],"Assignments to the 'goal' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","Assignments to the 'subgoal1' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","Assignments to the 'subgoal2' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","Assignments to the 'subgoal3' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.",{"desc":"66","fix":"67"},{"desc":"68","fix":"69"},{"desc":"70","fix":"71"},[3518,3523],"\n\t\t\t.","no-global-assign","no-unsafe-negation","Update the dependencies array to be: [currentPw, props.pw]",{"range":"72","text":"73"},"Update the dependencies array to be: [display, props.isRememberId, props.rememberId]",{"range":"74","text":"75"},"Update the dependencies array to be: [display, naverLogin]",{"range":"76","text":"77"},[759,770],"[currentPw, props.pw]",[1204,1213],"[display, props.isRememberId, props.rememberId]",[1277,1286],"[display, naverLogin]"]